<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/css/admin-dashboard.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Anton&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100..900;1,100..900&display=swap');
    </style>

    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">



</head>

<body>

    <!-- <-------------------------       ---------------------------->
    <!-- <-------------------------SIDE-BAR ---------------------------->
    <!-- <-------------------------       ---------------------------->
    <aside class="sidebar">
        <h2>A T S</h2>

        <ul class="list-items">


            <li class="menu-item">
                <div class="menu">
                    <a href="/admin/dashboard" style="text-decoration: none; color: inherit;">
                        <i class="material-icons">dashboard</i>Dashboard
                      </a>
                </div>

            </li>

            <li class="menu-item">
                <div class="menu">
                    <a href="#school"> <i class="material-icons">location_city</i><span>All Schools</span></a>

                </div>

            </li>

            <li class="menu-item">
                <div class="menu">
                    <a href="#students"> <i class="material-icons">add</i> <span>Add School</span></a>
                </div>

            </li>

            <li class="menu-item">
                <div class="menu">
                    <a href="#card-designs"> <i class="material-icons">badge</i><span>Card Designs</span></a>

                </div>

            </li>



            <li class="menu-item">
                <div class="menu">
                    <a href="#setting"> <i class="material-icons">settings</i><span>Settings</span></a>
                </div>
            </li>

            <li class="menu-item">
                <div class="menu">
                    <a href="/admin/logout"> <i class="material-icons">logout</i><span>Log out</span></a>
                </div>
            </li>
        </ul>
        <div class="expnd"><i class="material-icons toggle-arrow">keyboard_double_arrow_left</i><span>Collapse</span>
        </div>
    </aside>

    <!-- <-------------------------               ------------------ -->
    <!-- <------------------------- TOP BAR               ------------------ -->
    <!-- <-------------------------               ------------------ -->

    <main class="main-content">
        <header class="top-bar">

            <h2>Admin Dashboard</h2>
            <div class="icons">
                <div class="profile ">
                    <img src="" alt="img">
                    <div class="profile-info ">
                        <Span id="adminName " class="dropdown-btn" onclick="toggleDropdown()">
                            Mr. Pokhar Mal Kumawat

                        </Span>
                        <span class="admin">Super Admin</span>
                    </div>

                </div>

                <div class="icon"><i class="material-icons">mail</i></div>
                <div class="icon">
                    <i class="material-icons">notifications</i>
                </div>

                <!-- Dark Mode Toggle with Label -->
                <div class="icon dark-mode-container">
                    <span class="toggle-label">Dark Mode</span>
                    <label class="dark-mode-toggle">
                        <input type="checkbox" id="darkModeSwitch" />
                        <span class="slider"></span>
                    </label>
                </div>

            </div>
        </header>

        <!-- <-----------------------------                       ----------------- -->
        <!-- <----------------------------       DASHBOARD     ----------------- -->
        <!-- <-----------------------------                       ----------------- -->
        <section id="dashboard" class="section active">
            <div class="stats">
                <div class="card" style="animation-delay: 0.1s;">
                    <div class="img"><img src="/images/graduated.png" alt="" c></div>
                    <div class="text">Total Schools: <span id="total-students">
                            <%= totalSchools %>
                        </span></div>
                </div>
                <div class="card" style="animation-delay: 0.3s;">
                    <div class="img tea"><img src="/images/chalkboard-user.png" alt=""> </div>
                    <div class="text">Total Students: <span id="total-teachers">
                            <%= totalStudents %>
                        </span></div>
                </div>
                <div class="card" style="animation-delay: 0.5s;">
                    <div class="img idcards"><img src="/images/identification.png" alt=""></div>
                    <div class="text"> pending ID cards:<span id="total-idcards">
                            <%= pendingRequests %>
                        </span></div>
                </div>
            </div>

        </section>

        <section class="card-designs" style="display: none;">
            <div class="template1">
                <div class="id-card">
                    <div class="id-header">
                        <img src="school-logo.jpg" alt="Logo" class="logo" />
                        <div>
                            <div class="school-name">KARUNA MEMORIAL U.M.V</div>
                            <div class="address">Vihar Nagar, Jhotwara-453634</div>
                        </div>
                    </div>

                    <div class="heading">IDENTITY CARD - SESSION 2025-2026</div>

                    <div class="id-body">
                        <div class="details">
                            <div class="detail-row"><span class="detail-label">Name</span><span
                                    class="colon">:</span><span class="detail-value">Aayush Agrawal</span></div>
                            <div class="detail-row"><span class="detail-label">Class</span><span
                                    class="colon">:</span><span class="detail-value">12th</span></div>
                            <div class="detail-row"><span class="detail-label">Section</span><span
                                    class="colon">:</span><span class="detail-value">A</span></div>
                            <div class="detail-row"><span class="detail-label">Roll No.</span><span
                                    class="colon">:</span><span class="detail-value">810</span></div>
                            <div class="detail-row"><span class="detail-label">Father's Name</span><span
                                    class="colon">:</span><span class="detail-value">Mr. Agrawal</span></div>
                            <div class="detail-row"><span class="detail-label">Mobile</span><span
                                    class="colon">:</span><span class="detail-value">6367507039</span></div>
                            <div class="detail-row"><span class="detail-label">Address</span><span
                                    class="colon">:</span><span class="detail-value">Alwar, Rajasthan</span></div>
                        </div>

                        <div class="photo-signature">
                            <img src="IMG-20240306-WA0006.jpg" alt="Student" class="student-photo" />
                            <img src="Pi7_Tool_WhatsApp Image 2024-02-27 at 13.21.51.jpg" alt="Principal Signature"
                                class="signature" />
                            <div class="principal-label">PRINCIPAL</div>
                        </div>
                    </div>
                </div>
                <div class="buttons">
                    <div class="buttons">
                        <label>Select Card:
                            <input type="checkbox" id="cardToggle" />
                            <span class="switch"></span>
                        </label>

                        <button class="editCardBtn">Edit Card</button>
                    </div>

                </div>
            </div>

        </section>

        <section class="all-schools section" style="display: none;">
            <div class="school-table-container">

                <div class="search-bar">
                    <input type="text" id="searchSchool" placeholder="Search a school...">
                    <i class="material-icons arrow">search</i>
                </div>


                <table class="school-table" border="1">
                    <thead>
                        <tr>
                            <th>Sr No</th>
                            <th>Logo</th>
                            <th>School Name</th>
                            <th>Email</th>
                            <th>Address</th>
                            <th>Contact</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <% schools.forEach(school=> { %>
                        <tbody id="schoolTableBody">
                            <tr class="school-row" data-school-id="<%= school._id %>">
                                <td>
                                    <!-- serial number -->
                                </td>

                                <td><button class="view-image-btn" data-img="<%= school.logo %>">View</button></td>

                                <td>
                                    <%= school.schoolName %>
                                </td>
                                <td>
                                    <%= school.email %>
                                </td>
                                <td>
                                    <%= school.address %>
                                </td>
                                <td>
                                    <%= school.contactNumber %>
                                </td>
                                <td><a href="/admin/schools/<%= school._id %>/classes">Show More</a></td>


                            </tr>

                            <% }); %>
                        </tbody>
                </table>

            </div>

            <!-- PAGINATION -->

            <div class="pagination">
                <button id="prevBtn">Previous</button>
                <button id="nextBtn">Next</button>
            </div>
            </div>
            <div class="popup-overlay" id="imagePopup" style="display: none;">
                <div class="popup-form" style="max-width: 400px;">
                    <span class="close-btn" onclick="closeImagePopup()">×</span>
                    <img id="popupStudentImage" src="" alt="Student Photo"
                        style="width: 100%; border-radius: 8px; margin-top: 15px;" />
                </div>
            </div>
        </section>


        <div class="popup-overlay" id="imagePopup" style="display: none;">
            <div class="popup-form" style="max-width: 400px;">
              <span class="close-btn" onclick="closeImagePopup()">×</span>
              <h2>Student Image</h2>
              <img id="popupStudentImage" src="" alt="school logo" style="width: 100%; border-radius: 8px; margin-top: 15px;" />
            </div>
          </div>
    </main>


    <script src="/js/admin-dashboard.js"></script>

</body>

</html>